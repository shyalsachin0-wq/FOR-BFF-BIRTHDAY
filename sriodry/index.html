<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Friendship Story - Ultimate Edition</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #e3fdfd 0%, #ffe6fa 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        .storybook {
            width: 100%;
            max-width: 900px;
            height: 750px;
            background: white;
            border-radius: 25px;
            box-shadow: 0 25px 60px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
            border: 20px solid #fff;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
                align-items: flex-start;
                padding-top: 10px;
            }
            
            .storybook {
                height: 90vh;
                max-height: 600px;
                border-width: 10px;
                border-radius: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .storybook {
                height: 85vh;
                border-width: 8px;
                border-radius: 15px;
            }
        }

        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            padding: 40px;
            display: none;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            text-align: center;
            background: linear-gradient(135deg, var(--bg-color1), var(--bg-color2));
            color: var(--text-color);
            border: 8px solid var(--border-color);
            border-radius: 15px;
            box-shadow: inset 0 0 30px rgba(255,255,255,0.3);
            overflow-y: auto;
            overflow-x: hidden;
        }
        
        /* Mobile page adjustments */
        @media (max-width: 768px) {
            .page {
                padding: 20px 15px;
            }
        }

        .page::-webkit-scrollbar {
            width: 8px;
        }
        
        .page::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            margin: 5px;
        }
        
        .page::-webkit-scrollbar-thumb {
            background: var(--btn-color);
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.8);
        }
        
        .page.active {
            display: flex;
            animation: pageTurn 0.6s ease;
        }
        
        @keyframes pageTurn {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .page-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            width: 100%;
            padding: 20px 0;
            position: relative;
            z-index: 2;
            min-height: min-content;
        }
        
        .floating-hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .heart {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.3;
            animation: float 6s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        
        .photo-frame {
            position: relative;
            display: inline-block;
            margin-bottom: 20px;
        }
        
        .page-image {
            width: 280px;
            height: 280px;
            border-radius: 20px;
            object-fit: cover;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            border: 8px solid rgba(255,255,255,0.9);
            transition: all 0.5s ease;
            transform-style: preserve-3d;
            animation: gentlePulse 4s ease-in-out infinite;
        }
        
        /* Mobile image adjustments */
        @media (max-width: 768px) {
            .page-image {
                width: 200px;
                height: 200px;
                border-width: 6px;
            }
        }
        
        @media (max-width: 480px) {
            .page-image {
                width: 160px;
                height: 160px;
                border-width: 5px;
            }
        }

        .page-image:hover {
            transform: perspective(1000px) rotateY(10deg) rotateX(5deg) scale(1.05);
        }
        
        @keyframes gentlePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        .photo-caption {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.95);
            padding: 6px 15px;
            border-radius: 15px;
            font-size: 0.8rem;
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        @media (max-width: 768px) {
            .photo-caption {
                font-size: 0.7rem;
                padding: 4px 12px;
                bottom: -20px;
            }
        }

        .photo-frame:hover .photo-caption {
            opacity: 1;
            bottom: -30px;
        }
        
        .page-title {
            font-size: 2.8rem;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255,255,255,0.5),
                         2px 2px 4px rgba(0,0,0,0.1);
            line-height: 1.2;
            font-weight: bold;
        }
        
        /* Mobile title adjustments */
        @media (max-width: 768px) {
            .page-title {
                font-size: 2rem;
                margin-bottom: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .page-title {
                font-size: 1.7rem;
                margin-bottom: 12px;
            }
        }

        .page-text {
            font-size: 1.3rem;
            line-height: 1.6;
            margin-bottom: 15px;
            max-width: 650px;
            padding: 0 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        
        /* Mobile text adjustments */
        @media (max-width: 768px) {
            .page-text {
                font-size: 1.1rem;
                line-height: 1.5;
                padding: 0 15px;
                margin-bottom: 12px;
            }
        }
        
        @media (max-width: 480px) {
            .page-text {
                font-size: 1rem;
                padding: 0 10px;
            }
        }
        
        .navigation {
            display: flex;
            gap: 15px;
            margin-top: auto;
            padding: 20px 0;
            position: relative;
            z-index: 2;
            flex-shrink: 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        @media (max-width: 768px) {
            .navigation {
                gap: 10px;
                padding: 15px 0;
            }
        }

        .nav-btn {
            padding: 14px 30px;
            font-size: 1.1rem;
            background: rgba(255,255,255,0.9);
            color: var(--btn-color);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0,0,0,0.15);
            font-weight: bold;
            backdrop-filter: blur(10px);
            min-width: 140px;
        }
        
        /* Mobile button adjustments */
        @media (max-width: 768px) {
            .nav-btn {
                padding: 12px 20px;
                font-size: 1rem;
                min-width: 120px;
                border-radius: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .nav-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
                min-width: 110px;
            }
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            background: white;
        }
        
        .page-counter {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            color: var(--btn-color);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            z-index: 3;
        }
        
        @media (max-width: 768px) {
            .page-counter {
                top: 15px;
                right: 15px;
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }
        
        .memory-sticker {
            position: absolute;
            font-size: 2.5rem;
            opacity: 0.8;
            transform: rotate(-15deg);
            animation: wiggle 4s infinite ease-in-out;
        }
        
        @media (max-width: 768px) {
            .memory-sticker {
                font-size: 2rem;
            }
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(-15deg) scale(1); }
            50% { transform: rotate(-10deg) scale(1.1); }
        }
        
        /* Page Colors */
        #page0 {
            --bg-color1: #FFE4E1; --bg-color2: #F0FFF0; --text-color: #8B4513; --btn-color: #FF69B4; --border-color: #FFB6C1;
        }
        #page1 {
            --bg-color1: #FFD6E0; --bg-color2: #FFEFD6; --text-color: #8B4513; --btn-color: #FF6B8B; --border-color: #FFB6C1;
        }
        #page2 {
            --bg-color1: #D4F0FF; --bg-color2: #E0FFD4; --text-color: #2F4F4F; --btn-color: #4ECDC4; --border-color: #87CEEB;
        }
        #page3 {
            --bg-color1: #FFF9C4; --bg-color2: #FFE0B2; --text-color: #8B7355; --btn-color: #FFB74D; --border-color: #FFD700;
        }
        #page4 {
            --bg-color1: #E8DAFF; --bg-color2: #D4FFFE; --text-color: #6A5ACD; --btn-color: #9575CD; --border-color: #BA55D3;
        }
        #page5 {
            --bg-color1: #FFCCCB; --bg-color2: #FFDAC1; --text-color: #B22222; --btn-color: #FF8A65; --border-color: #FF69B4;
        }
        #page6 {
            --bg-color1: #667eea; --bg-color2: #764ba2; --text-color: white; --btn-color: #FFD166; --border-color: #FF6B6B;
        }
        #page7 {
            --bg-color1: #FFE4E1; --bg-color2: #F0FFF0; --text-color: #8B4513; --btn-color: #FF69B4; --border-color: #FFB6C1;
        }
        #page8 {
            --bg-color1: #E8DAFF; --bg-color2: #D4FFFE; --text-color: #6A5ACD; --btn-color: #9575CD; --border-color: #BA55D3;
        }
        #page9 {
            --bg-color1: #E8DAFF; --bg-color2: #D4FFFE; --text-color: #6A5ACD; --btn-color: #9575CD; --border-color: #BA55D3;
        }
        
        .final-message {
            font-size: 1.2rem;
            font-style: italic;
            margin-top: 20px;
            opacity: 0.9;
            max-width: 600px;
            line-height: 1.5;
        }
        
        @media (max-width: 768px) {
            .final-message {
                font-size: 1rem;
                margin-top: 15px;
            }
        }

        .special-emoji {
            font-size: 1.8rem;
            margin: 0 6px;
            animation: bounce 2s infinite;
        }
        
        @media (max-width: 768px) {
            .special-emoji {
                font-size: 1.5rem;
            }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .copyright {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            opacity: 0.7;
            color: var(--text-color);
            font-style: italic;
            flex-shrink: 0;
        }
        
        @media (max-width: 768px) {
            .copyright {
                font-size: 0.7rem;
                bottom: 5px;
            }
        }

        .extra-emojis {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 12px;
            flex-wrap: wrap;
        }
        
        @media (max-width: 768px) {
            .extra-emojis {
                gap: 8px;
                margin-top: 10px;
            }
        }

        .extra-emoji {
            font-size: 1.6rem;
            animation: spin 3s infinite linear;
        }
        
        @media (max-width: 768px) {
            .extra-emoji {
                font-size: 1.3rem;
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(1); }
        }

        .story-progress {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        @media (max-width: 768px) {
            .story-progress {
                gap: 6px;
                margin: 12px 0;
            }
        }

        .progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .progress-dot {
                width: 8px;
                height: 8px;
            }
        }

        .progress-dot.active {
            background: var(--btn-color);
            transform: scale(1.2);
        }

        .petals {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .petal {
            position: absolute;
            font-size: 1rem;
            animation: fall 8s linear infinite;
            opacity: 0.7;
        }
        
        @media (max-width: 768px) {
            .petal {
                font-size: 0.8rem;
            }
        }

        @keyframes fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 0.7; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        .message-bubble {
            position: absolute;
            background: rgba(255,255,255,0.9);
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            animation: floatBubble 4s ease-in-out infinite;
            backdrop-filter: blur(5px);
            max-width: 120px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .message-bubble {
                font-size: 0.7rem;
                padding: 6px 10px;
                max-width: 100px;
            }
        }

        @keyframes floatBubble {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        .secret-message {
            position: absolute;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px;
            border-radius: 8px;
            font-size: 0.7rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 10;
        }
        
        @media (max-width: 768px) {
            .secret-message {
                font-size: 0.6rem;
                padding: 6px;
            }
        }

        .photo-frame:hover .secret-message {
            opacity: 1;
        }

        /* Cursor Effects - Only for desktop */
        @media (hover: hover) {
            .cursor-trail {
                position: absolute;
                width: 6px;
                height: 6px;
                background: var(--btn-color);
                border-radius: 50%;
                pointer-events: none;
                z-index: 1000;
                animation: trailFade 0.6s ease-out forwards;
            }

            @keyframes trailFade {
                0% { transform: scale(1); opacity: 1; }
                100% { transform: scale(2); opacity: 0; }
            }

            .sparkle {
                position: absolute;
                width: 4px;
                height: 4px;
                background: gold;
                border-radius: 50%;
                pointer-events: none;
                z-index: 1000;
                animation: sparkleFade 0.8s ease-out forwards;
            }

            @keyframes sparkleFade {
                0% { transform: scale(0) rotate(0deg); opacity: 1; }
                50% { transform: scale(1.5) rotate(180deg); opacity: 0.8; }
                100% { transform: scale(0) rotate(360deg); opacity: 0; }
            }
        }

        .floating-heart {
            position: absolute;
            font-size: 1rem;
            pointer-events: none;
            z-index: 1000;
            animation: heartFloat 2s ease-out forwards;
        }
        
        @media (max-width: 768px) {
            .floating-heart {
                font-size: 0.8rem;
            }
        }

        @keyframes heartFloat {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-40px) scale(0.5); opacity: 0; }
        }

        .balloon {
            position: absolute;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 999;
            animation: balloonFloat 15s linear forwards;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .balloon {
                font-size: 1.2rem;
            }
        }

        @keyframes balloonFloat {
            0% { transform: translateY(100vh) translateX(0); opacity: 1; }
            100% { transform: translateY(-100px) translateX(var(--sway, 0px)); opacity: 0; }
        }

        /* CELEBRATION STYLES */
        .celebration-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10000;
        }

        .celebration-text {
            position: absolute;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5rem;
            font-weight: bold;
            color: gold;
            text-shadow: 0 0 20px rgba(255,215,0,0.8),
                         0 0 40px rgba(255,215,0,0.6),
                         0 0 60px rgba(255,215,0,0.4);
            animation: textPulse 2s ease-in-out infinite;
            text-align: center;
            white-space: nowrap;
        }
        
        @media (max-width: 768px) {
            .celebration-text {
                font-size: 1.8rem;
                white-space: normal;
                width: 90%;
            }
        }

        @keyframes textPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.9; }
        }

        .improved-confetti {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--confetti-color, #ff6b6b);
            animation: confettiFall 5s linear forwards;
            pointer-events: none;
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(255,255,255,0.5);
        }
        
        @media (max-width: 768px) {
            .improved-confetti {
                width: 8px;
                height: 8px;
            }
        }

        @keyframes confettiFall {
            0% { 
                transform: translateY(-100px) rotate(0deg) scale(0.8); 
                opacity: 0; 
            }
            10% { 
                opacity: 1; 
                transform: translateY(0) rotate(0deg) scale(1);
            }
            90% { 
                opacity: 0.8; 
            }
            100% { 
                transform: translateY(100vh) rotate(720deg) scale(1.2); 
                opacity: 0; 
            }
        }

        .floating-celebration {
            position: fixed;
            font-size: 1.5rem;
            animation: emojiRain 3s linear forwards;
            pointer-events: none;
            z-index: 10000;
            text-shadow: 0 0 8px rgba(255,255,255,0.8);
        }
        
        @media (max-width: 768px) {
            .floating-celebration {
                font-size: 1.2rem;
            }
        }

        @keyframes emojiRain {
            0% { 
                transform: translateY(-100px) translateX(0) rotate(0deg) scale(0.8); 
                opacity: 0; 
            }
            10% { 
                opacity: 1; 
                transform: translateY(0) translateX(0) rotate(0deg) scale(1);
            }
            90% { 
                opacity: 0.9; 
            }
            100% { 
                transform: translateY(100vh) translateX(calc(var(--sway, 0) * 100px)) rotate(360deg) scale(1.1); 
                opacity: 0; 
            }
        }

        .golden-flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,215,0,0.3) 0%, rgba(255,215,0,0) 70%);
            animation: goldenFlash 2s ease-out forwards;
            pointer-events: none;
            z-index: 9999;
        }

        @keyframes goldenFlash {
            0% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(1.2); }
        }

        .music-note {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 1.2rem;
            animation: float 3s infinite ease-in-out;
            z-index: 3;
        }
        
        @media (max-width: 768px) {
            .music-note {
                top: 15px;
                left: 15px;
                font-size: 1rem;
            }
        }

        /* Cake Cutting Page Styles - Mobile Optimized */
        .cake-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 250px;
            margin: 15px 0;
        }
        
        @media (max-width: 768px) {
            .cake-container {
                height: 200px;
                margin: 10px 0;
            }
        }

        .cake {
            position: absolute;
            width: 160px;
            height: 100px;
            background: linear-gradient(45deg, #FFB6C1, #FF69B4);
            border-radius: 8px 8px 0 0;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            touch-action: none;
        }
        
        @media (max-width: 768px) {
            .cake {
                width: 140px;
                height: 80px;
                bottom: 30px;
            }
        }

        .cake-top {
            position: absolute;
            width: 180px;
            height: 25px;
            background: #FFD700;
            border-radius: 50%;
            bottom: 140px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        @media (max-width: 768px) {
            .cake-top {
                width: 160px;
                height: 20px;
                bottom: 110px;
            }
        }

        .candle {
            position: absolute;
            width: 5px;
            height: 25px;
            background: #FF6B6B;
            bottom: 165px;
            border-radius: 2px;
        }
        
        @media (max-width: 768px) {
            .candle {
                height: 20px;
                bottom: 130px;
            }
        }

        .candle:nth-child(1) { left: 45%; }
        .candle:nth-child(2) { left: 50%; }
        .candle:nth-child(3) { left: 55%; }

        .flame {
            position: absolute;
            width: 10px;
            height: 16px;
            background: #FFD700;
            border-radius: 50% 50% 20% 20%;
            bottom: 190px;
            animation: flicker 1.5s infinite alternate;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .flame {
                width: 8px;
                height: 14px;
                bottom: 150px;
            }
        }

        .flame:nth-child(4) { left: 44%; }
        .flame:nth-child(5) { left: 49%; }
        .flame:nth-child(6) { left: 54%; }

        @keyframes flicker {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .knife {
            position: absolute;
            width: 100px;
            height: 16px;
            background: silver;
            border-radius: 8px;
            bottom: 80px;
            right: 30px;
            cursor: grab;
            transform-origin: left center;
            transition: transform 0.3s ease;
            z-index: 10;
            touch-action: none;
        }
        
        @media (max-width: 768px) {
            .knife {
                width: 80px;
                height: 14px;
                bottom: 60px;
                right: 20px;
            }
        }

        .knife-handle {
            position: absolute;
            width: 25px;
            height: 20px;
            background: #8B4513;
            border-radius: 4px;
            right: -30px;
            top: -2px;
        }
        
        @media (max-width: 768px) {
            .knife-handle {
                width: 20px;
                height: 18px;
                right: -25px;
            }
        }

        .animal-character {
            position: absolute;
            font-size: 2.5rem;
            cursor: pointer;
            transition: transform 0.3s ease;
            z-index: 5;
        }
        
        @media (max-width: 768px) {
            .animal-character {
                font-size: 2rem;
            }
        }

        .animal-character:hover {
            transform: scale(1.2);
        }

        .dog-character {
            bottom: 20px;
            left: 30px;
        }
        
        @media (max-width: 768px) {
            .dog-character {
                bottom: 15px;
                left: 20px;
            }
        }

        .cat-character {
            bottom: 20px;
            right: 30px;
        }
        
        @media (max-width: 768px) {
            .cat-character {
                bottom: 15px;
                right: 20px;
            }
        }

        .bunny-character {
            bottom: 60px;
            left: 80px;
        }
        
        @media (max-width: 768px) {
            .bunny-character {
                bottom: 50px;
                left: 60px;
            }
        }

        .firecracker {
            position: absolute;
            font-size: 1.5rem;
            animation: firecrackerPop 1s ease-out forwards;
            pointer-events: none;
            z-index: 1000;
        }
        
        @media (max-width: 768px) {
            .firecracker {
                font-size: 1.2rem;
            }
        }

        @keyframes firecrackerPop {
            0% { transform: scale(0) rotate(0deg); opacity: 0; }
            50% { transform: scale(1.5) rotate(180deg); opacity: 1; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }

        /* Message Wall Styles */
        .message-wall {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 600px;
            margin: 15px 0;
        }
        
        @media (max-width: 768px) {
            .message-wall {
                max-width: 90%;
                margin: 10px 0;
            }
        }

        .message-form {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 500px;
        }
        
        @media (max-width: 768px) {
            .message-form {
                max-width: 100%;
            }
        }

        .message-input {
            width: 100%;
            padding: 12px;
            border-radius: 15px;
            border: 3px solid rgba(255,255,255,0.8);
            background: rgba(255,255,255,0.9);
            font-size: 1rem;
            resize: none;
            margin-bottom: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            font-family: 'Georgia', serif;
            min-height: 100px;
        }
        
        @media (max-width: 768px) {
            .message-input {
                padding: 10px;
                font-size: 0.9rem;
                min-height: 80px;
            }
        }

        .message-input:focus {
            outline: none;
            border-color: var(--btn-color);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }

        .email-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 12px;
            border: 2px solid rgba(255,255,255,0.8);
            background: rgba(255,255,255,0.9);
            font-size: 0.9rem;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            font-family: 'Georgia', serif;
        }
        
        @media (max-width: 768px) {
            .email-input {
                padding: 8px 10px;
                font-size: 0.85rem;
            }
        }

        .email-input:focus {
            outline: none;
            border-color: var(--btn-color);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateY(-1px);
        }

        .message-submit {
            padding: 12px 35px;
            font-size: 1.1rem;
            background: var(--btn-color);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .message-submit {
                padding: 10px 25px;
                font-size: 1rem;
                border-radius: 20px;
            }
        }

        .message-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .form-note {
            text-align: center;
            margin-top: 15px;
            padding: 12px;
            background: rgba(255,255,255,0.7);
            border-radius: 12px;
            font-size: 0.9rem;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        @media (max-width: 768px) {
            .form-note {
                font-size: 0.8rem;
                padding: 10px;
                margin-top: 12px;
            }
        }

        .form-message {
            margin-top: 12px;
            padding: 8px 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            display: none;
        }
        
        @media (max-width: 768px) {
            .form-message {
                margin-top: 10px;
                padding: 6px 10px;
                font-size: 0.9rem;
            }
        }

        .form-message.success {
            background: rgba(76, 175, 80, 0.2);
            color: #2e7d32;
            display: block;
        }

        .form-message.error {
            background: rgba(244, 67, 54, 0.2);
            color: #c62828;
            display: block;
        }

        .loading-spinner {
            font-size: 1rem;
        }
        
        @media (max-width: 768px) {
            .loading-spinner {
                font-size: 0.9rem;
            }
        }

        /* Cake cut animation */
        .cake-cut {
            background: linear-gradient(45deg, #FFB6C1, #FF69B4, #FFD700) !important;
            animation: cakeCut 1s ease-in-out !important;
        }

        @keyframes cakeCut {
            0% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.1); }
            100% { transform: translateX(-50%) scale(1); }
        }

        /* Sound Test Button */
        .sound-test-btn {
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 10000;
            padding: 8px 12px;
            background: #ff6b8b;
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 768px) {
            .sound-test-btn {
                padding: 6px 10px;
                font-size: 0.7rem;
                top: 5px;
                left: 5px;
            }
        }

        /* Swipe navigation for mobile */
        .swipe-area {
            position: absolute;
            top: 0;
            width: 20%;
            height: 100%;
            z-index: 5;
        }
        
        .swipe-left {
            left: 0;
        }
        
        .swipe-right {
            right: 0;
        }

        /* Curtain Styles for Welcome Page */
        .curtain-container {
            position: relative;
            width: 300px;
            height: 200px;
            margin: 20px 0;
            perspective: 1000px;
        }
        
        @media (max-width: 768px) {
            .curtain-container {
                width: 250px;
                height: 150px;
            }
        }
        
        @media (max-width: 480px) {
            .curtain-container {
                width: 200px;
                height: 120px;
            }
        }

        .curtain {
            position: relative;
            width: 100%;
            height: 100%;
            cursor: pointer;
            transform-style: preserve-3d;
        }

        .curtain-left, .curtain-right {
            position: absolute;
            width: 50%;
            height: 100%;
            background: linear-gradient(45deg, #FF6B8B, #FF69B4);
            border: 5px solid #FFD700;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            transition: transform 1.5s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .curtain-left {
            left: 0;
            border-radius: 15px 0 0 15px;
            transform-origin: left center;
        }

        .curtain-right {
            right: 0;
            border-radius: 0 15px 15px 0;
            transform-origin: right center;
        }

        .curtain.open .curtain-left {
            transform: rotateY(-100deg);
        }

        .curtain.open .curtain-right {
            transform: rotateY(100deg);
        }

        .welcome-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            font-weight: bold;
            color: #FFD700;
            text-shadow: 0 0 20px rgba(255,215,0,0.8),
                         2px 2px 8px rgba(0,0,0,0.5);
            opacity: 0;
            transition: opacity 1s ease 0.5s;
            z-index: 1;
        }
        
        @media (max-width: 768px) {
            .welcome-message {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .welcome-message {
                font-size: 2rem;
            }
        }

        .curtain.open ~ .welcome-message {
            opacity: 1;
        }

        .experience-note {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            font-size: 1rem;
            color: #8B4513;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            max-width: 400px;
            text-align: center;
            border: 2px solid #FFD700;
        }
        
        @media (max-width: 768px) {
            .experience-note {
                font-size: 0.9rem;
                padding: 12px;
                margin-top: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .experience-note {
                font-size: 0.8rem;
                padding: 10px;
            }
        }

        .tap-hint {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9rem;
            color: rgba(255,255,255,0.8);
            animation: pulse 2s infinite;
        }
        
        @media (max-width: 768px) {
            .tap-hint {
                font-size: 0.8rem;
            }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- Sound Test Button -->
    <button class="sound-test-btn" onclick="testAllSounds()">🔊 Test Sounds</button>

    <!-- Audio Elements -->
    <audio id="bgMusic" loop>
        <source src="tu.mp3" type="audio/mpeg">
    </audio>
    <audio id="pageTurnSound">
        <source src="page.wav" type="audio/mpeg">
    </audio>
    <audio id="confettiSound">
        <source src="sound con.mp3" type="audio/mpeg">
    </audio>
    <audio id="firecrackerSound">
        <source src="fire.mp3" type="audio/mpeg">
    </audio>
    <audio id="dogBarkSound">
        <source src="dog.unknown" type="audio/mpeg">
    </audio>
    <audio id="balloonPopSound">
        <source src="baloon.mp3" type="audio/mpeg">
    </audio>
    <audio id="knifeCutSound">
        <source src="knife.mp3" type="audio/mpeg">
    </audio>

    <div class="storybook">
        <!-- Music Indicator -->
        <div class="music-note">🎵</div>

        <!-- Swipe areas for mobile navigation -->
        <div class="swipe-area swipe-left" ontouchstart="handleSwipeStart(event)" ontouchmove="handleSwipeMove(event)" ontouchend="handleSwipeEnd(event)"></div>
        <div class="swipe-area swipe-right" ontouchstart="handleSwipeStart(event)" ontouchmove="handleSwipeMove(event)" ontouchend="handleSwipeEnd(event)"></div>

        <!-- Page 0: Welcome Page -->
        <div class="page active" id="page0">
            <div class="floating-hearts">
                <div class="heart" style="top:10%; left:15%;">✨</div>
                <div class="heart" style="top:20%; left:80%;">🎀</div>
                <div class="heart" style="top:70%; left:10%;">💖</div>
                <div class="heart" style="top:80%; left:85%;">🌟</div>
            </div>
            <div class="petals" id="petals0"></div>
            <div class="page-counter">Welcome</div>
            <div class="page-content">
                <div class="memory-sticker" style="top:50px; left:50px;">📖</div>
                <h1 class="page-title">Our Friendship Story <span class="special-emoji">💝</span></h1>
                
                <div class="curtain-container">
                    <div class="curtain" onclick="openCurtain()">
                        <div class="curtain-left">🎭</div>
                        <div class="curtain-right">🎪</div>
                        <div class="tap-hint">Tap to open</div>
                    </div>
                    <div class="welcome-message">WELCOME</div>
                </div>
                
                <div class="experience-note">
                    💻 For best experience, use computer<br>
                    ⚠️ Be cautious - all file names and effects are preserved
                </div>
                
                <p class="page-text">
                    Get ready to embark on a beautiful journey through our friendship story. 
                    Each page holds precious memories and heartfelt moments we've shared together.
                </p>
                
                <div class="extra-emojis">
                    <div class="extra-emoji">📚</div>
                    <div class="extra-emoji">💌</div>
                    <div class="extra-emoji">🎨</div>
                    <div class="extra-emoji">🌟</div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot active" onclick="showPage(0)"></div>
                    <div class="progress-dot" onclick="showPage(1)"></div>
                    <div class="progress-dot" onclick="showPage(2)"></div>
                    <div class="progress-dot" onclick="showPage(3)"></div>
                    <div class="progress-dot" onclick="showPage(4)"></div>
                    <div class="progress-dot" onclick="showPage(5)"></div>
                    <div class="progress-dot" onclick="showPage(6)"></div>
                    <div class="progress-dot" onclick="showPage(7)"></div>
                    <div class="progress-dot" onclick="showPage(8)"></div>
                    <div class="progress-dot" onclick="showPage(9)"></div>
                </div>
            </div>

            <div class="message-bubble" style="top:30%; left:10%;">"Ready to begin? 🎭"</div>
            <div class="message-bubble" style="bottom:40%; right:10%;">"Tap the curtain! 👆"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="nextPage()">Begin Our Story 🌸</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>

        <!-- Page 1: Beginning -->
        <div class="page" id="page1">
            <div class="floating-hearts">
                <div class="heart" style="top:10%; left:15%;">💖</div>
                <div class="heart" style="top:20%; left:80%;">💕</div>
                <div class="heart" style="top:70%; left:10%;">💗</div>
            </div>
            <div class="petals" id="petals1"></div>
            <div class="page-counter">Chapter 1 of 9</div>
            <div class="page-content">
                <div class="memory-sticker" style="top:50px; left:50px;">📖</div>
                <h1 class="page-title">The Beginning <span class="special-emoji">✨</span></h1>
                
                <div class="photo-frame">
                    <img src="thebigi.jpg" alt="Our beginning" class="page-image">
                    <div class="photo-caption">"Where it all began 💫"</div>
                    <div class="secret-message" style="top:20px; right:-100px;">I knew you were special from day one</div>
                </div>
                
                <p class="page-text">
                    Remember when our story first began? That magical moment when our paths crossed, 
                    starting a journey filled with laughter, trust, and beautiful memories that would last forever.
                </p>
                
                <div class="extra-emojis">
                    <div class="extra-emoji">🌠</div>
                    <div class="extra-emoji">🐾</div>
                    <div class="extra-emoji">🌺</div>
                    <div class="extra-emoji">💫</div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot" onclick="showPage(0)"></div>
                    <div class="progress-dot active" onclick="showPage(1)"></div>
                    <div class="progress-dot" onclick="showPage(2)"></div>
                    <div class="progress-dot" onclick="showPage(3)"></div>
                    <div class="progress-dot" onclick="showPage(4)"></div>
                    <div class="progress-dot" onclick="showPage(5)"></div>
                    <div class="progress-dot" onclick="showPage(6)"></div>
                    <div class="progress-dot" onclick="showPage(7)"></div>
                    <div class="progress-dot" onclick="showPage(8)"></div>
                    <div class="progress-dot" onclick="showPage(9)"></div>
                </div>
            </div>

            <div class="message-bubble" style="top:30%; left:10%;">"First meet! 🌸"</div>
            <div class="message-bubble" style="bottom:40%; right:10%;">"So nervous! 😊"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevPage()">← Welcome</button>
                <button class="nav-btn" onclick="nextPage()">Turn the Page 🌸</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>

        <!-- Page 2: Growing Closer -->
        <div class="page" id="page2">
            <div class="floating-hearts">
                <div class="heart" style="top:15%; left:20%;">🌱</div>
                <div class="heart" style="top:25%; left:75%;">💫</div>
            </div>
            <div class="petals" id="petals2"></div>
            <div class="page-counter">Chapter 2 of 9</div>
            <div class="page-content">
                <div class="memory-sticker" style="top:60px; right:60px;">🌼</div>
                <h1 class="page-title">Growing Together <span class="special-emoji">🌷</span></h1>
                
                <div class="photo-frame">
                    <img src="2nd.jpg" alt="Growing closer" class="page-image">
                    <div class="photo-caption">"Our bond blooming 🌻"</div>
                    <div class="secret-message" style="top:20px; left:-120px;">You became my favorite person</div>
                </div>
                
                <p class="page-text">
                    Through shared dreams and heartfelt conversations, our bond blossomed. 
                    You became my safe harbor, my confidant, the one who understood me without words.
                </p>
                
                <div class="extra-emojis">
                    <div class="extra-emoji">🦋</div>
                    <div class="extra-emoji">🌿</div>
                    <div class="extra-emoji">💧</div>
                    <div class="extra-emoji">🌈</div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot" onclick="showPage(0)"></div>
                    <div class="progress-dot" onclick="showPage(1)"></div>
                    <div class="progress-dot active" onclick="showPage(2)"></div>
                    <div class="progress-dot" onclick="showPage(3)"></div>
                    <div class="progress-dot" onclick="showPage(4)"></div>
                    <div class="progress-dot" onclick="showPage(5)"></div>
                    <div class="progress-dot" onclick="showPage(6)"></div>
                    <div class="progress-dot" onclick="showPage(7)"></div>
                    <div class="progress-dot" onclick="showPage(8)"></div>
                    <div class="progress-dot" onclick="showPage(9)"></div>
                </div>
            </div>

            <div class="message-bubble" style="top:40%; left:15%;">"Late night talks 🌙"</div>
            <div class="message-bubble" style="bottom:35%; right:15%;">"Inside jokes! 😂"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevPage()">← Back to Start</button>
                <button class="nav-btn" onclick="nextPage()">Next Chapter 💫</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>

        <!-- Page 3: Beautiful Memories -->
        <div class="page" id="page3">
            <div class="floating-hearts">
                <div class="heart" style="top:10%; left:70%;">🌟</div>
                <div class="heart" style="top:80%; left:20%;">🎈</div>
                <div class="heart" style="top:30%; left:10%;">🎨</div>
            </div>
            <div class="petals" id="petals3"></div>
            <div class="page-counter">Chapter 3 of 9</div>
            <div class="page-content">
                <div class="memory-sticker" style="bottom:100px; left:50px;">📸</div>
                <h1 class="page-title">Precious Moments <span class="special-emoji">🎪</span></h1>
                
                <div class="photo-frame">
                    <img src="3rd.jpg" alt="Beautiful memories" class="page-image">
                    <div class="photo-caption">"Adventures together 🎯"</div>
                    <div class="secret-message" style="bottom:20px; right:-130px;">These moments kept me going</div>
                </div>
                
                <p class="page-text">
                    From spontaneous adventures under the stars to cozy moments sharing our deepest thoughts - 
                    each memory is a treasure I hold close to my heart, forever etched in time.
                </p>
                
                <div class="extra-emojis">
                    <div class="extra-emoji">🎭</div>
                    <div class="extra-emoji">🦄</div>
                    <div class="extra-emoji">🎯</div>
                    <div class="extra-emoji">💞</div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot" onclick="showPage(0)"></div>
                    <div class="progress-dot" onclick="showPage(1)"></div>
                    <div class="progress-dot" onclick="showPage(2)"></div>
                    <div class="progress-dot active" onclick="showPage(3)"></div>
                    <div class="progress-dot" onclick="showPage(4)"></div>
                    <div class="progress-dot" onclick="showPage(5)"></div>
                    <div class="progress-dot" onclick="showPage(6)"></div>
                    <div class="progress-dot" onclick="showPage(7)"></div>
                    <div class="progress-dot" onclick="showPage(8)"></div>
                    <div class="progress-dot" onclick="showPage(9)"></div>
                </div>
            </div>

            <div class="message-bubble" style="top:35%; left:10%;">"That crazy day! 🎢"</div>
            <div class="message-bubble" style="bottom:40%; right:10%;">"Best memories 💖"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevPage()">← Go Back</button>
                <button class="nav-btn" onclick="nextPage()">Continue Journey 🌟</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>

        <!-- Page 4: A New Chapter -->
        <div class="page" id="page4">
            <div class="floating-hearts">
                <div class="heart" style="top:30%; left:15%;">🌀</div>
                <div class="heart" style="top:60%; left:85%;">🌊</div>
                <div class="heart" style="top:75%; left:45%;">🕯️</div>
            </div>
            <div class="petals" id="petals4"></div>
            <div class="page-counter">Chapter 4 of 9</div>
            <div class="page-content">
                <div class="memory-sticker" style="top:80px; left:80px;">🕊️</div>
                <h1 class="page-title">New Horizons <span class="special-emoji">🌅</span></h1>
                
                <div class="photo-frame">
                    <img src="4th.jpg" alt="New chapter" class="page-image">
                    <div class="photo-caption">"Different paths 🌉"</div>
                    <div class="secret-message" style="top:50px; right:-140px;">You taught me so much about love</div>
                </div>
                
                <p class="page-text">
                    Life painted our story with different colors this year. While our paths diverged, 
                    the beautiful canvas of our friendship remains - a masterpiece of shared history and unconditional care.
                </p>
                
                <div class="extra-emojis">
                    <div class="extra-emoji">🌉</div>
                    <div class="extra-emoji">🔮</div>
                    <div class="extra-emoji">💨</div>
                    <div class="extra-emoji">🌀</div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot" onclick="showPage(0)"></div>
                    <div class="progress-dot" onclick="showPage(1)"></div>
                    <div class="progress-dot" onclick="showPage(2)"></div>
                    <div class="progress-dot" onclick="showPage(3)"></div>
                    <div class="progress-dot active" onclick="showPage(4)"></div>
                    <div class="progress-dot" onclick="showPage(5)"></div>
                    <div class="progress-dot" onclick="showPage(6)"></div>
                    <div class="progress-dot" onclick="showPage(7)"></div>
                    <div class="progress-dot" onclick="showPage(8)"></div>
                    <div class="progress-dot" onclick="showPage(9)"></div>
                </div>
            </div>

            <div class="message-bubble" style="top:30%; left:15%;">"Growing pains 🌱"</div>
            <div class="message-bubble" style="bottom:35%; right:15%;">"Always care 💝"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevPage()">← Previous Chapter</button>
                <button class="nav-btn" onclick="nextPage()">Keep Reading 💖</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>

        <!-- Page 5: Gratitude -->
        <div class="page" id="page5">
            <div class="floating-hearts">
                <div class="heart" style="top:20%; left:80%;">🙏</div>
                <div class="heart" style="top:70%; left:15%;">💝</div>
                <div class="heart" style="top:40%; left:65%;">🎀</div>
            </div>
            <div class="petals" id="petals5"></div>
            <div class="page-counter">Chapter 5 of 9</div>
            <div class="page-content">
                <div class="memory-sticker" style="bottom:120px; right:70px;">🎁</div>
                <h1 class="page-title">With Gratitude <span class="special-emoji">💌</span></h1>
                
                <div class="photo-frame">
                    <img src="5th.jpg" alt="Gratitude" class="page-image">
                    <div class="photo-caption">"Thankful for you 💐"</div>
                    <div class="secret-message" style="bottom:50px; left:-120px;">I'll always cherish what we had</div>
                </div>
                
                <p class="page-text">
                    Thank you for every smile, every lesson, every moment of genuine connection. 
                    Our friendship taught me the true meaning of love, resilience, and the beauty of human connection.
                </p>
                
                <div class="extra-emojis">
                    <div class="extra-emoji">💐</div>
                    <div class="extra-emoji">🦢</div>
                    <div class="extra-emoji">💎</div>
                    <div class="extra-emoji">🌟</div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot" onclick="showPage(0)"></div>
                    <div class="progress-dot" onclick="showPage(1)"></div>
                    <div class="progress-dot" onclick="showPage(2)"></div>
                    <div class="progress-dot" onclick="showPage(3)"></div>
                    <div class="progress-dot" onclick="showPage(4)"></div>
                    <div class="progress-dot active" onclick="showPage(5)"></div>
                    <div class="progress-dot" onclick="showPage(6)"></div>
                    <div class="progress-dot" onclick="showPage(7)"></div>
                    <div class="progress-dot" onclick="showPage(8)"></div>
                    <div class="progress-dot" onclick="showPage(9)"></div>
                </div>
            </div>

            <div class="message-bubble" style="top:40%; left:10%;">"Thank you 🌟"</div>
            <div class="message-bubble" style="bottom:30%; right:10%;">"Forever grateful 💫"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevPage()">← Look Back</button>
                <button class="nav-btn" onclick="nextPage()">Birthday Time! 🎂</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>

        <!-- Page 6: Birthday Celebration -->
        <div class="page" id="page6">
            <div class="floating-hearts">
                <div class="heart" style="top:15%; left:25%;">🎂</div>
                <div class="heart" style="top:25%; left:75%;">🎉</div>
                <div class="heart" style="top:70%; left:10%;">🥳</div>
                <div class="heart" style="top:80%; left:85%;">🎊</div>
                <div class="heart" style="top:50%; left:50%;">❤️</div>
            </div>
            <div class="petals" id="petals6"></div>
            <div class="page-counter">Chapter 6 of 9</div>
            <div class="page-content">
                <div class="memory-sticker" style="top:50px; left:45%;">🎇</div>
                <h1 class="page-title">Happy Birthday! <span class="special-emoji">🎂</span></h1>
                
                <div class="photo-frame">
                    <img src="happybirthday.jpg" alt="Birthday celebration" class="page-image">
                    <div class="photo-caption">"Celebrating YOU! 🎊"</div>
                    <div class="secret-message" style="bottom:20px; left:-150px;">You deserve all the happiness in the world</div>
                </div>
                
                <p class="page-text">
                    Today, I celebrate the incredible person you are! May this new chapter of your life be filled 
                    with joy, peace, laughter, and all the beautiful moments you truly deserve.
                </p>
                
                <!-- Beautiful emojis -->
                <div class="extra-emojis">
                    <div class="extra-emoji">🍰</div>
                    <div class="extra-emoji">🌹</div>
                    <div class="extra-emoji">⭐</div>
                    <div class="extra-emoji">⚡</div>
                    <div class="extra-emoji">💫</div>
                    <div class="extra-emoji">🎀</div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot" onclick="showPage(0)"></div>
                    <div class="progress-dot" onclick="showPage(1)"></div>
                    <div class="progress-dot" onclick="showPage(2)"></div>
                    <div class="progress-dot" onclick="showPage(3)"></div>
                    <div class="progress-dot" onclick="showPage(4)"></div>
                    <div class="progress-dot" onclick="showPage(5)"></div>
                    <div class="progress-dot active" onclick="showPage(6)"></div>
                    <div class="progress-dot" onclick="showPage(7)"></div>
                    <div class="progress-dot" onclick="showPage(8)"></div>
                    <div class="progress-dot" onclick="showPage(9)"></div>
                </div>

                <p class="final-message">
                    Though our paths have changed, what remains unchanged is how much you mean to me. 
                    You'll always hold a special place in my heart. Happy birthday to someone truly unforgettable.
                </p>
            </div>

            <div class="message-bubble" style="top:30%; left:10%;">"Make a wish! 🌟"</div>
            <div class="message-bubble" style="bottom:30%; right:10%;">"You're amazing! 💝"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevPage()">← Previous Page</button>
                <button class="nav-btn" onclick="nextPage()">Cut the Cake! 🍰</button>
                <button class="nav-btn" onclick="launchConfetti()">🎂 HAPPY BIRTHDAY 🎂</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>

        <!-- Page 7: Cake Cutting -->
        <div class="page" id="page7">
            <div class="floating-hearts">
                <div class="heart" style="top:10%; left:20%;">🍰</div>
                <div class="heart" style="top:20%; left:75%;">🎂</div>
                <div class="heart" style="top:70%; left:15%;">🔪</div>
                <div class="heart" style="top:80%; left:80%;">✨</div>
            </div>
            <div class="petals" id="petals7"></div>
            <div class="page-counter">Chapter 7 of 9</div>
            <div class="page-content">
                <div class="memory-sticker" style="top:60px; right:60px;">🐾</div>
                <h1 class="page-title">Cut the Cake! <span class="special-emoji">🎂</span></h1>
                
                <p class="page-text">
                    Let's celebrate together! Drag the knife to cut the cake and make a wish! 
                    ANIMAL! 🐶
                </p>
                
                <div class="cake-container">
                    <!-- Cake -->
                    <div class="cake" id="birthdayCake"></div>
                    <div class="cake-top"></div>
                    
                    <!-- Candles -->
                    <div class="candle"></div>
                    <div class="candle"></div>
                    <div class="candle"></div>
                    
                    <!-- Flames -->
                    <div class="flame" onclick="blowCandle(this)"></div>
                    <div class="flame" onclick="blowCandle(this)"></div>
                    <div class="flame" onclick="blowCandle(this)"></div>
                    
                    <!-- Knife -->
                    <div class="knife" id="cakeKnife">
                        <div class="knife-handle"></div>
                    </div>
                    
                    <!-- Animal Characters -->
                    <div class="animal-character dog-character" onclick="playAnimalSound()">🐶</div>
                    <div class="animal-character cat-character" onclick="playAnimalSound()">🐱</div>
                    <div class="animal-character bunny-character" onclick="playAnimalSound()">🐰</div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot" onclick="showPage(0)"></div>
                    <div class="progress-dot" onclick="showPage(1)"></div>
                    <div class="progress-dot" onclick="showPage(2)"></div>
                    <div class="progress-dot" onclick="showPage(3)"></div>
                    <div class="progress-dot" onclick="showPage(4)"></div>
                    <div class="progress-dot" onclick="showPage(5)"></div>
                    <div class="progress-dot" onclick="showPage(6)"></div>
                    <div class="progress-dot active" onclick="showPage(7)"></div>
                    <div class="progress-dot" onclick="showPage(8)"></div>
                    <div class="progress-dot" onclick="showPage(9)"></div>
                </div>
            </div>

            <div class="message-bubble" style="top:35%; left:10%;">"Drag the knife! 🔪"</div>
            <div class="message-bubble" style="bottom:40%; right:10%;">"Click me! 🐶"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevPage()">← Back</button>
                <button class="nav-btn" onclick="nextPage()">Write to Me 💌</button>
                <button class="nav-btn" onclick="launchConfetti()">🎂 ENJOY! 🎂</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>

        <!-- Page 8: Message Wall with Email -->
        <div class="page" id="page8">
            <div class="floating-hearts">
                <div class="heart" style="top:10%; left:20%;">💌</div>
                <div class="heart" style="top:20%; left:75%;">📝</div>
                <div class="heart" style="top:70%; left:15%;">💬</div>
                <div class="heart" style="top:80%; left:80%;">✉️</div>
            </div>
            <div class="petals" id="petals8"></div>
            <div class="page-counter">Chapter 8 of 9</div>
            <div class="page-content">
                <div class="memory-sticker" style="top:60px; right:60px;">📮</div>
                <h1 class="page-title">Message Wall <span class="special-emoji">💝</span></h1>
                
                <div class="photo-frame">
                    <img src="LAST.jpg" alt="Message wall" class="page-image">
                    <div class="photo-caption">"Message me directly! 📧"</div>
                    <div class="secret-message" style="top:20px; left:-140px;">I'll get your message in my email!</div>
                </div>
                
                <p class="page-text">
                    Send me a message directly to my email! I'd love to hear your thoughts. 
                    Any message means the world to me.
                </p>
                
                <div class="message-wall">
                    <form id="emailForm" class="message-form">
                        <textarea class="message-input" id="messageInput" name="message" 
                            placeholder="Write your heartfelt message here... 💖" rows="4" required></textarea>
                        
                        <input type="text" class="email-input" id="senderName" name="name"
                            placeholder="Your name jk 🌟">
                        
                        <input type="email" class="email-input" id="senderEmail" name="email"
                            placeholder="Your email 📧">
                        
                        <button type="submit" class="message-submit" id="submitBtn">
                            <span class="btn-text">Send to My Email 💫</span>
                            <span class="loading-spinner" style="display: none;">⏳ Sending...</span>
                        </button>
                    </form>
                    
                    <div id="formMessage" class="form-message"></div>
                    
                    <div class="form-note">
                        💌 Your message will be sent directly to my email inbox. Fill all the boxes and if 
                        possible send 4-5 times i don't know it will work or not in 1st time!
                    </div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot" onclick="showPage(0)"></div>
                    <div class="progress-dot" onclick="showPage(1)"></div>
                    <div class="progress-dot" onclick="showPage(2)"></div>
                    <div class="progress-dot" onclick="showPage(3)"></div>
                    <div class="progress-dot" onclick="showPage(4)"></div>
                    <div class="progress-dot" onclick="showPage(5)"></div>
                    <div class="progress-dot" onclick="showPage(6)"></div>
                    <div class="progress-dot" onclick="showPage(7)"></div>
                    <div class="progress-dot active" onclick="showPage(8)"></div>
                    <div class="progress-dot" onclick="showPage(9)"></div>
                </div>
            </div>

            <div class="message-bubble" style="top:35%; left:10%;">"I'll receive it! 📧"</div>
            <div class="message-bubble" style="bottom:40%; right:10%;">"Direct to email! 💌"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevPage()">← Previous Page</button>
                <button class="nav-btn" onclick="nextPage()">Final Words 💖</button>
                <button class="nav-btn" onclick="launchConfetti()">🎂 ENJOY! 🎂</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>

        <!-- Page 9: Final Page -->
        <div class="page" id="page9">
            <div class="floating-hearts">
                <div class="heart" style="top:10%; left:20%;">💖</div>
                <div class="heart" style="top:20%; left:75%;">✨</div>
                <div class="heart" style="top:70%; left:15%;">🌟</div>
                <div class="heart" style="top:80%; left:80%;">💫</div>
            </div>
            <div class="petals" id="petals9"></div>
            <div class="page-counter">Final Chapter</div>
            <div class="page-content">
                <div class="memory-sticker" style="top:60px; right:60px;">🎁</div>
                <h1 class="page-title">The End <span class="special-emoji">💝</span></h1>
                
                <div class="photo-frame">
                    <img src="final.jpg" alt="Final page" class="page-image">
                    <div class="photo-caption">"Our beautiful journey 📚"</div>
                    <div class="secret-message" style="top:20px; left:-140px;">Thank you for being part of my story</div>
                </div>
                
                <p class="page-text">
                    And so our story continues, written in the stars and carried in our hearts. 
                    No matter where life takes us, this friendship will always be one of my most cherished treasures.
                </p>
                
                <div class="extra-emojis">
                    <div class="extra-emoji">📖</div>
                    <div class="extra-emoji">💌</div>
                    <div class="extra-emoji">🌟</div>
                    <div class="extra-emoji">💝</div>
                </div>

                <div class="story-progress">
                    <div class="progress-dot" onclick="showPage(0)"></div>
                    <div class="progress-dot" onclick="showPage(1)"></div>
                    <div class="progress-dot" onclick="showPage(2)"></div>
                    <div class="progress-dot" onclick="showPage(3)"></div>
                    <div class="progress-dot" onclick="showPage(4)"></div>
                    <div class="progress-dot" onclick="showPage(5)"></div>
                    <div class="progress-dot" onclick="showPage(6)"></div>
                    <div class="progress-dot" onclick="showPage(7)"></div>
                    <div class="progress-dot" onclick="showPage(8)"></div>
                    <div class="progress-dot active" onclick="showPage(9)"></div>
                </div>

                <p class="final-message">
                    Thank you for walking with me through these pages of our friendship. 
                    May your life be filled with endless joy, love, and beautiful adventures. 
                    You deserve all the happiness in the world! 🌈✨
                </p>
            </div>

            <div class="message-bubble" style="top:35%; left:10%;">"The end... for now! 📚"</div>
            <div class="message-bubble" style="bottom:40%; right:10%;">"New beginnings! 🌟"</div>

            <div class="navigation">
                <button class="nav-btn" onclick="prevPage()">← Read Again</button>
                <button class="nav-btn" onclick="showPage(0)">Start Over 🏁</button>
                <button class="nav-btn" onclick="launchConfetti()">🎂 THANK YOU! 🎂</button>
            </div>
            <div class="copyright">All rights reserved to Animal 🐾</div>
        </div>
    </div>

    <script>
        let currentPage = 0;
        const totalPages = 9;
        let cakeCut = false;
        let isDragging = false;
        let swipeStartX = 0;
        let swipeStartY = 0;
        let curtainOpened = false;
        
        // Initialize effects
        createPetals();
        createCursorTrail();
        createBalloons();
        setupCakeInteraction();
        initializeAudio();
        
        // Curtain function
        function openCurtain() {
            if (!curtainOpened) {
                const curtain = document.querySelector('.curtain');
                curtain.classList.add('open');
                curtainOpened = true;
                
                // Play page turn sound
                const pageTurnSound = document.getElementById('pageTurnSound');
                pageTurnSound.volume = 0.4;
                pageTurnSound.play().catch(e => console.log('Curtain sound failed'));
            }
        }
        
        // Mobile Swipe Navigation
        function handleSwipeStart(e) {
            swipeStartX = e.touches[0].clientX;
            swipeStartY = e.touches[0].clientY;
        }
        
        function handleSwipeMove(e) {
            if (!swipeStartX) return;
            
            const swipeEndX = e.touches[0].clientX;
            const swipeEndY = e.touches[0].clientY;
            const diffX = swipeStartX - swipeEndX;
            const diffY = swipeStartY - swipeEndY;
            
            // Only trigger if horizontal swipe is greater than vertical
            if (Math.abs(diffX) > Math.abs(diffY)) {
                e.preventDefault();
            }
        }
        
        function handleSwipeEnd(e) {
            if (!swipeStartX) return;
            
            const swipeEndX = e.changedTouches[0].clientX;
            const swipeEndY = e.changedTouches[0].clientY;
            const diffX = swipeStartX - swipeEndX;
            const diffY = swipeStartY - swipeEndY;
            
            // Check if it's a horizontal swipe (not vertical scroll)
            if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
                if (diffX > 0) {
                    // Swipe left - next page
                    nextPage();
                } else {
                    // Swipe right - previous page
                    prevPage();
                }
            }
            
            swipeStartX = 0;
            swipeStartY = 0;
        }
        
        // Improved Audio Initialization
        function initializeAudio() {
            const audioElements = document.querySelectorAll('audio');
            
            // Preload all audio files
            audioElements.forEach(audio => {
                audio.preload = 'auto';
                audio.volume = 0.3;
            });
            
            // Handle auto-play restrictions
            document.addEventListener('click', function() {
                const music = document.getElementById('bgMusic');
                music.play().catch(e => console.log('Background music play failed:', e));
                
                // Preload other sounds
                audioElements.forEach(audio => {
                    if (audio !== music) {
                        audio.play().then(() => {
                            audio.pause();
                            audio.currentTime = 0;
                        }).catch(e => console.log('Sound preload failed:', e));
                    }
                });
            }, { once: true });
        }
        
        // Sound Test Function
        function testAllSounds() {
            const sounds = [
                {id: 'pageTurnSound', name: 'Page Turn'},
                {id: 'confettiSound', name: 'Confetti'},
                {id: 'firecrackerSound', name: 'Firecracker'},
                {id: 'dogBarkSound', name: 'Dog Bark'},
                {id: 'balloonPopSound', name: 'Balloon Pop'},
                {id: 'knifeCutSound', name: 'Knife Cut'}
            ];
            
            sounds.forEach((sound, index) => {
                setTimeout(() => {
                    console.log(`Playing: ${sound.name}`);
                    const audio = document.getElementById(sound.id);
                    audio.volume = 0.5;
                    audio.play().catch(e => console.log(`Failed to play ${sound.name}:`, e));
                }, index * 800);
            });
        }
        
        function showPage(pageNumber) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            document.getElementById('page' + pageNumber).classList.add('active');
            currentPage = pageNumber;
            
            document.querySelectorAll('.progress-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === pageNumber);
            });
            
            // Play page turn sound
            const pageTurnSound = document.getElementById('pageTurnSound');
            pageTurnSound.volume = 0.4;
            pageTurnSound.play().catch(e => console.log('Page turn sound failed'));
            
            if (pageNumber === 6 || pageNumber === 7 || pageNumber === 8 || pageNumber === 9) {
                setTimeout(launchConfetti, 500);
            }
        }
        
        function nextPage() {
            if (currentPage < totalPages - 1) {
                showPage(currentPage + 1);
            }
        }
        
        function prevPage() {
            if (currentPage > 0) {
                showPage(currentPage - 1);
            }
        }
        
        // Cursor Effects - Only for desktop
        function createCursorTrail() {
            // Only add cursor effects on devices that support hover
            if (window.matchMedia("(hover: hover)").matches) {
                document.addEventListener('mousemove', function(e) {
                    const trail = document.createElement('div');
                    trail.className = 'cursor-trail';
                    trail.style.left = e.pageX - 3 + 'px';
                    trail.style.top = e.pageY - 3 + 'px';
                    document.body.appendChild(trail);
                    
                    setTimeout(() => { trail.remove(); }, 600);
                    
                    if (Math.random() > 0.7) {
                        const sparkle = document.createElement('div');
                        sparkle.className = 'sparkle';
                        sparkle.style.left = e.pageX - 2 + 'px';
                        sparkle.style.top = e.pageY - 2 + 'px';
                        document.body.appendChild(sparkle);
                        
                        setTimeout(() => { sparkle.remove(); }, 800);
                    }
                    
                    if (Math.random() > 0.9) {
                        const heart = document.createElement('div');
                        heart.className = 'floating-heart';
                        heart.innerHTML = '💖';
                        heart.style.left = e.pageX + 'px';
                        heart.style.top = e.pageY + 'px';
                        document.body.appendChild(heart);
                        
                        setTimeout(() => { heart.remove(); }, 2000);
                    }
                });
            }
        }
        
        // Balloon System
        function createBalloons() {
            setInterval(() => {
                if (Math.random() > 0.7) {
                    const balloon = document.createElement('div');
                    balloon.className = 'balloon';
                    balloon.innerHTML = ['🎈', '🎈', '🎈', '🎈', '💖', '✨'][Math.floor(Math.random() * 6)];
                    balloon.style.left = Math.random() * 100 + 'vw';
                    balloon.style.setProperty('--sway', (Math.random() - 0.5) * 100);
                    
                    balloon.addEventListener('click', function() {
                        const popSound = document.getElementById('balloonPopSound');
                        popSound.volume = 0.4;
                        popSound.play();
                        this.style.animation = 'none';
                        this.innerHTML = '💥';
                        setTimeout(() => { this.remove(); }, 300);
                    });
                    
                    document.body.appendChild(balloon);
                    
                    setTimeout(() => { 
                        if (balloon.parentElement) {
                            balloon.remove(); 
                        }
                    }, 15000);
                }
            }, 2000);
        }
        
        // Cake Interaction
        function setupCakeInteraction() {
            const knife = document.getElementById('cakeKnife');
            const cake = document.getElementById('birthdayCake');
            
            if (!knife || !cake) return;
            
            // Make knife draggable
            knife.addEventListener('mousedown', startDrag);
            knife.addEventListener('touchstart', startDrag, { passive: false });
            document.addEventListener('mousemove', drag);
            document.addEventListener('touchmove', drag, { passive: false });
            document.addEventListener('mouseup', stopDrag);
            document.addEventListener('touchend', stopDrag);
            
            function startDrag(e) {
                isDragging = true;
                knife.style.cursor = 'grabbing';
                if (e.type === 'touchstart') {
                    e.preventDefault();
                }
            }
            
            function drag(e) {
                if (!isDragging) return;
                
                let clientX, clientY;
                
                if (e.type === 'touchmove') {
                    clientX = e.touches[0].clientX;
                    clientY = e.touches[0].clientY;
                    e.preventDefault();
                } else {
                    clientX = e.clientX;
                    clientY = e.clientY;
                }
                
                const container = document.querySelector('.cake-container');
                const containerRect = container.getBoundingClientRect();
                
                let x = clientX - containerRect.left - 60;
                let y = containerRect.bottom - clientY - 10;
                
                // Keep knife within container bounds
                x = Math.max(0, Math.min(x, containerRect.width - 120));
                y = Math.max(0, Math.min(y, containerRect.height - 20));
                
                knife.style.left = x + 'px';
                knife.style.bottom = y + 'px';
                
                // Check if knife is touching cake
                const knifeRect = knife.getBoundingClientRect();
                const cakeRect = cake.getBoundingClientRect();
                
                if (knifeRect.left < cakeRect.right && 
                    knifeRect.right > cakeRect.left &&
                    knifeRect.top < cakeRect.bottom &&
                    knifeRect.bottom > cakeRect.top) {
                    
                    if (!cakeCut) {
                        cutCake();
                    }
                }
            }
            
            function stopDrag() {
                isDragging = false;
                knife.style.cursor = 'grab';
            }
        }
        
        function cutCake() {
            cakeCut = true;
            const cutSound = document.getElementById('knifeCutSound');
            cutSound.volume = 0.5;
            cutSound.play();
            
            // Visual effects
            const cake = document.getElementById('birthdayCake');
            cake.classList.add('cake-cut');
            
            // Firecracker explosion
            createFirecrackerExplosion();
            
            // Animal celebration
            document.querySelectorAll('.animal-character').forEach(animal => {
                animal.style.animation = 'jump 0.5s ease 3';
            });
            
            setTimeout(() => {
                launchConfetti();
                const barkSound = document.getElementById('dogBarkSound');
                barkSound.volume = 0.4;
                barkSound.play();
            }, 1000);
        }
        
        function blowCandle(flame) {
            flame.style.opacity = '0';
            flame.style.animation = 'none';
            const fireSound = document.getElementById('firecrackerSound');
            fireSound.volume = 0.3;
            fireSound.play();
            
            // Create small firecracker at candle position
            const rect = flame.getBoundingClientRect();
            createFirecracker(rect.left + 6, rect.top + 10);
        }
        
        function playAnimalSound() {
            const barkSound = document.getElementById('dogBarkSound');
            barkSound.volume = 0.4;
            barkSound.play();
            
            // Make animal jump
            event.target.style.animation = 'jump 0.5s ease';
            setTimeout(() => {
                event.target.style.animation = '';
            }, 500);
        }
        
        function createFirecracker(x, y) {
            const firecracker = document.createElement('div');
            firecracker.className = 'firecracker';
            firecracker.innerHTML = '🎆';
            firecracker.style.left = x + 'px';
            firecracker.style.top = y + 'px';
            firecracker.style.fontSize = (Math.random() * 20 + 20) + 'px';
            document.body.appendChild(firecracker);
            
            setTimeout(() => { firecracker.remove(); }, 1000);
        }
        
        function createFirecrackerExplosion() {
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createFirecracker(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight
                    );
                }, i * 100);
            }
            const fireSound = document.getElementById('firecrackerSound');
            fireSound.volume = 0.4;
            fireSound.play();
        }
        
        // Email form handling
        document.getElementById('emailForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const btnText = submitBtn.querySelector('.btn-text');
            const loadingSpinner = submitBtn.querySelector('.loading-spinner');
            const formMessage = document.getElementById('formMessage');
            
            // Show loading state
            btnText.style.display = 'none';
            loadingSpinner.style.display = 'inline';
            submitBtn.disabled = true;
            
            try {
                const response = await fetch('https://formspree.io/f/xpwyrggb', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: document.getElementById('messageInput').value,
                        name: document.getElementById('senderName').value || 'Anonymous Friend',
                        email: document.getElementById('senderEmail').value || 'No email provided',
                        source: 'Friendship Storybook Message Wall'
                    })
                });
                
                if (response.ok) {
                    formMessage.textContent = '🎉 Message sent successfully! Thank you! 💖';
                    formMessage.className = 'form-message success';
                    document.getElementById('emailForm').reset();
                    createMessageCelebration();
                } else {
                    throw new Error('Failed to send message');
                }
            } catch (error) {
                formMessage.textContent = '❌ Failed to send message. Please try again later.';
                formMessage.className = 'form-message error';
            } finally {
                btnText.style.display = 'inline';
                loadingSpinner.style.display = 'none';
                submitBtn.disabled = false;
                
                setTimeout(() => {
                    formMessage.style.display = 'none';
                }, 5000);
            }
        });
        
        function createMessageCelebration() {
            createFirecrackerExplosion();
            const barkSound = document.getElementById('dogBarkSound');
            barkSound.volume = 0.4;
            barkSound.play();
            
            for (let i = 0; i < 8; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = '💖';
                heart.style.position = 'fixed';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.top = Math.random() * 100 + 'vh';
                heart.style.fontSize = (Math.random() * 20 + 20) + 'px';
                heart.style.animation = 'float 3s ease-in-out forwards';
                document.body.appendChild(heart);
                
                setTimeout(() => { heart.remove(); }, 3000);
            }
            
            const pageTurnSound = document.getElementById('pageTurnSound');
            pageTurnSound.volume = 0.4;
            pageTurnSound.play();
        }
        
        // Celebration Function
        function launchConfetti() {
            const confettiSound = document.getElementById('confettiSound');
            confettiSound.volume = 0.4;
            confettiSound.play();
            createFirecrackerExplosion();
            
            const overlay = document.createElement('div');
            overlay.className = 'celebration-overlay';
            document.body.appendChild(overlay);
            
            const goldenFlash = document.createElement('div');
            goldenFlash.className = 'golden-flash';
            document.body.appendChild(goldenFlash);
            
            const birthdayTexts = [
                { text: '🎂 HAPPY BIRTHDAY! 🎂', top: '30%' },
                { text: '🎉 STAY BLESSED💖👸! 🎉', top: '50%' },
                { text: '✨ KEEP SHINING ✨', top: '70%' }
            ];
            
            birthdayTexts.forEach(birthday => {
                const celebrationText = document.createElement('div');
                celebrationText.className = 'celebration-text';
                celebrationText.innerHTML = birthday.text;
                celebrationText.style.top = birthday.top;
                celebrationText.style.left = '50%';
                celebrationText.style.transform = 'translate(-50%, -50%)';
                overlay.appendChild(celebrationText);
            });
            
            const colors = ['#FF6B8B', '#4ECDC4', '#FFD166', '#FF69B4', '#BA55D3'];
            
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'improved-confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.animationDelay = Math.random() * 2 + 's';
                confetti.style.setProperty('--confetti-color', colors[Math.floor(Math.random() * colors.length)]);
                confetti.style.width = (Math.random() * 12 + 8) + 'px';
                confetti.style.height = (Math.random() * 12 + 8) + 'px';
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0%';
                overlay.appendChild(confetti);
            }
            
            createFloatingEmojis(overlay);
            
            setTimeout(() => {
                overlay.remove();
                goldenFlash.remove();
            }, 5000);
        }

        function createFloatingEmojis(container) {
            const emojis = ['🎂', '🎉', '🥳', '🎊', '🎁', '✨', '🌟', '💖', '⭐', '🎀', '🍰', '🌹', '❤️'];
            
            for (let i = 0; i < 25; i++) {
                const emoji = document.createElement('div');
                emoji.className = 'floating-celebration';
                emoji.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
                
                emoji.style.left = Math.random() * 100 + 'vw';
                emoji.style.fontSize = (Math.random() * 20 + 20) + 'px';
                emoji.style.animationDelay = (Math.random() * 2) + 's';
                emoji.style.animationDuration = (Math.random() * 1 + 2.5) + 's';
                emoji.style.setProperty('--sway', (Math.random() - 0.5) * 2);
                
                container.appendChild(emoji);
            }
        }
        
        function createPetals() {
            const petals = ['🌸', '🌺', '🌼', '💮', '🏵️'];
            for (let i = 0; i <= 9; i++) {
                const container = document.getElementById('petals' + i);
                if (container) {
                    for (let j = 0; j < 15; j++) {
                        const petal = document.createElement('div');
                        petal.className = 'petal';
                        petal.innerHTML = petals[Math.floor(Math.random() * petals.length)];
                        petal.style.left = Math.random() * 100 + '%';
                        petal.style.animationDelay = Math.random() * 5 + 's';
                        container.appendChild(petal);
                    }
                }
            }
        }
        
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowRight') nextPage();
            else if (event.key === 'ArrowLeft') prevPage();
        });
        
        // Add jump animation for animals
        const style = document.createElement('style');
        style.textContent = `
            @keyframes jump {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-20px); }
            }
        `;
        document.head.appendChild(style);
        
        showPage(0);
    </script>
</body>
</html>